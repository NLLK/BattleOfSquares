using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace BattleOfSquares
{
    class oldSquare
    {
        public static Point sizeOfGrid = new Point(54, 54);

        static Color blueTeamColor = new Color(102, 153, 255, 255);
        static Color pinkTeamColor = new Color(255, 51, 153, 255);
        static Point sizeOfBorder = new Point(2, 2);

        int team;//команда 0-blue, 1-pink
        Point size;//размеры
        Point position;//координаты
        GraphicsDevice graphicDevice;

        public class Info
        {
            public int teamInfo;//команда 0-blue, 1-pink
            public Point sizeInfo;//размеры
            public Point positionInfo;//координаты
            public Info(int t, Point s, Point p)
            {
                teamInfo = t;
                sizeInfo = s;
                positionInfo = p;
            }
        }

        public Square(Info i, GraphicsDevice gd)
        {
            position = i.positionInfo;
            size = i.sizeInfo;
            team = i.teamInfo;
            graphicDevice = gd;
        }
        public Square(int height, int width, int rotate, int team, int x, int y, GraphicsDevice gd)
        {
            if (rotate == 1) size = new Point(width, height) * sizeOfGrid;
            else size = new Point(height, width) * sizeOfGrid;
            this.team = team;
            graphicDevice = gd;
            position = GridCoords.GetPoint(x, y);
        }
        public Square(int height, int width, int rotate, int team, Point coords, GraphicsDevice gd)
        {
            if (rotate == 1) size = new Point(width, height) * sizeOfGrid;
            else size = new Point(height, width) * sizeOfGrid;
            this.team = team;
            graphicDevice = gd;
            position = coords;
        }
        public void DrawSquare()
        {
            Texture2D rectagleFront; //текстура основного цвета
            Texture2D rectagleBorder;//текстура рамки
            Rectangle rectFront;//размер и позиция прямоугольника
            Rectangle rectBorder;//размер и позиция рамки прямоугольника
            Color teamColor;//цвет команды

            teamColor = (team == 0) ? blueTeamColor : pinkTeamColor;

            rectagleBorder = new Texture2D(graphicDevice, 1, 1);//создаем пиксель рамки
            rectagleBorder.SetData(new[] { Color.Black });//заполняем его цветом
            rectagleFront = new Texture2D(graphicDevice, 1, 1);//создаем пиксель основного цвета
            rectagleFront.SetData(new[] { teamColor });//заполняем его цветом

            SpriteBatch sb = new SpriteBatch(graphicDevice);
            sb.Begin(SpriteSortMode.FrontToBack);
            rectBorder = new Rectangle(position, size);
            sb.Draw(rectagleBorder, rectBorder, Color.White);

            rectFront = new Rectangle(position + sizeOfBorder, size - (sizeOfBorder * new Point(2, 2)));
            sb.Draw(rectagleFront, rectFront, Color.White);
            sb.End();
            sb = null;
            rectagleBorder = null;
            rectagleFront = null;
        }
    }
}
